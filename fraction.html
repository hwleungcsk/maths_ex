<head>
    <!-- CDN mvp.css -->
    <link rel="stylesheet" href="https://unpkg.com/mvp.css"> 
    <!-- css.css -->
    <link rel="stylesheet" href="css.css">

    <!-- title: Fraction exercise -->
    <title>Fraction exercise</title>    
</head>

<!-- minus button to call dateMinus() function -->
<button onclick="dateMinus()" class="plainbtn">&lt;</button>
<h3><span id="date"></span></h3>    
<!-- plus button to call dateAdd() function -->
<button onclick="dateAdd()" class="plainbtn">&gt;</button>

<article>
<h1>Reducing fraction</h1>
<section>
    <!-- title Reduce fraction -->

    <div class="block" style="display: inline-block"><h4>Question 1</h4>
        <span class="question-rf" id="q1"></span><span class="ans" id="q1a"></span>
        <span class="hidden" id="q1n1"></span><span class="hidden" id="q1n2"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 2</h4>
        <span class="question-rf" id="q2"></span><span class="ans" id="q2a"></span>
        <span class="hidden" id="q2n1"></span><span class="hidden" id="q2n2"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 3</h4>
        <span class="question-rf" id="q3"></span><span class="ans" id="q3a"></span>
        <span class="hidden" id="q3n1"></span><span class="hidden" id="q3n2"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 4</h4>
        <span class="question-rf" id="q4"></span><span class="ans" id="q4a"></span>
        <span class="hidden" id="q4n1"></span><span class="hidden" id="q4n2"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 5</h4>
        <span class="question-rf" id="q5"></span><span class="ans" id="q5a"></span>
        <span class="hidden" id="q5n1"></span><span class="hidden" id="q5n2"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 6</h4>
        <span class="question-rf" id="q6"></span><span class="ans" id="q6a"></span>
        <span class="hidden" id="q6n1"></span><span class="hidden" id="q6n2"></span>
    </div>
</section>

<h1>Imporper fraction</h1>
Convert to mixed fractions
<section>
    <!-- title Imporper fraction -->

    <div class="block" style="display: inline-block"><h4>Question 1</h4>
        <span class="question-if" id="if1"></span><span class="ans" id="if1a"></span>
        <span class="hidden" id="if1n1"></span><span class="hidden" id="if1n2"></span></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 2</h4>
        <span class="question-if" id="if2"></span><span class="ans" id="if2a"></span>
        <span class="hidden" id="if2n1"></span><span class="hidden" id="if2n2"></span></span>
    </div>


    <div class="block" style="display: inline-block"><h4>Question 3</h4>
        <span class="question-if" id="if3"></span><span class="ans" id="if3a"></span>
        <span class="hidden" id="if3n1"></span><span class="hidden" id="if3n2"></span></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 4</h4>
        <span class="question-if" id="if4"></span><span class="ans" id="if4a"></span>
        <span class="hidden" id="if4n1"></span><span class="hidden" id="if4n2"></span></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 5</h4>
        <span class="question-if" id="if5"></span><span class="ans" id="if5a"></span>
        <span class="hidden" id="if5n1"></span><span class="hidden" id="if5n2"></span></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 6</h4>
        <span class="question-if" id="if6"></span><span class="ans" id="if6a"></span>
        <span class="hidden" id="if6n1"></span><span class="hidden" id="if6n2"></span></span>
    </div>
</section>

<h1>Compare values</h1>
Write 1, 2 and 3 in the box (1 for smallest, 3 for largest)
<section>
    <!-- title Compare values -->

    <div class="block col2" style="display: inline-block"><h4>Question 1</h4>
        <span class="question-cv" id="cv1"></span>
        <span class="hidden" id="cv1n1"></span><span class="hidden" id="cv1n2"></span>
        <span class="hidden" id="cv1n3"></span><span class="hidden" id="cv1n4"></span>
        <span class="hidden" id="cv1n5"></span><span class="hidden" id="cv1n6"></span>
    </div>
    <div class="block col2" style="display: inline-block"><h4>Question 2</h4>
        <span class="question-cv" id="cv2"></span>
        <span class="hidden" id="cv2n1"></span><span class="hidden" id="cv2n2"></span>
        <span class="hidden" id="cv2n3"></span><span class="hidden" id="cv2n4"></span>
        <span class="hidden" id="cv2n5"></span><span class="hidden" id="cv2n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 3</h4>
        <span class="question-cv" id="cv3"></span>
        <span class="hidden" id="cv3n1"></span><span class="hidden" id="cv3n2"></span>
        <span class="hidden" id="cv3n3"></span><span class="hidden" id="cv3n4"></span>
        <span class="hidden" id="cv3n5"></span><span class="hidden" id="cv3n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 4</h4>
        <span class="question-cv" id="cv4"></span>
        <span class="hidden" id="cv4n1"></span><span class="hidden" id="cv4n2"></span>
        <span class="hidden" id="cv4n3"></span><span class="hidden" id="cv4n4"></span>
        <span class="hidden" id="cv4n5"></span><span class="hidden" id="cv4n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 5</h4>
        <span class="question-cv" id="cv5"></span>
        <span class="hidden" id="cv5n1"></span><span class="hidden" id="cv5n2"></span>
        <span class="hidden" id="cv5n3"></span><span class="hidden" id="cv5n4"></span>
        <span class="hidden" id="cv5n5"></span><span class="hidden" id="cv5n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 6</h4>
        <span class="question-cv" id="cv6"></span>
        <span class="hidden" id="cv6n1"></span><span class="hidden" id="cv6n2"></span>
        <span class="hidden" id="cv6n3"></span><span class="hidden" id="cv6n4"></span>
        <span class="hidden" id="cv6n5"></span><span class="hidden" id="cv6n6"></span>
    </div>
</section>

<div class="pagebreak"></div>

<h1>Compare values 2</h1>
Write the numbers in the spaces in ascending order
<section>
    <!-- title Compare values -->

    <div class="block" style="display: inline-block"><h4>Question 1</h4>
        <span class="question-cv2" id="cv21"></span><span class="anscv2" id="cv21a"></span>
        <span class="hidden" id="cv21n1"></span><span class="hidden" id="cv21n2"></span>
        <span class="hidden" id="cv21n3"></span><span class="hidden" id="cv21n4"></span>
        <span class="hidden" id="cv21n5"></span><span class="hidden" id="cv21n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 2</h4>
        <span class="question-cv2" id="cv22"></span><span class="anscv2" id="cv22a"></span>
        <span class="hidden" id="cv22n1"></span><span class="hidden" id="cv22n2"></span>
        <span class="hidden" id="cv22n3"></span><span class="hidden" id="cv22n4"></span>
        <span class="hidden" id="cv22n5"></span><span class="hidden" id="cv22n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 3</h4>
        <span class="question-cv2" id="cv23"></span><span class="anscv2" id="cv23a"></span>
        <span class="hidden" id="cv23n1"></span><span class="hidden" id="cv23n2"></span>
        <span class="hidden" id="cv23n3"></span><span class="hidden" id="cv23n4"></span>
        <span class="hidden" id="cv23n5"></span><span class="hidden" id="cv23n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 4</h4>
        <span class="question-cv2" id="cv24"></span><span class="anscv2" id="cv24a"></span>
        <span class="hidden" id="cv24n1"></span><span class="hidden" id="cv24n2"></span>
        <span class="hidden" id="cv24n3"></span><span class="hidden" id="cv24n4"></span>
        <span class="hidden" id="cv24n5"></span><span class="hidden" id="cv24n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 5</h4>
        <span class="question-cv2" id="cv25"></span><span class="anscv2" id="cv25a"></span>
        <span class="hidden" id="cv25n1"></span><span class="hidden" id="cv25n2"></span>
        <span class="hidden" id="cv25n3"></span><span class="hidden" id="cv25n4"></span>
        <span class="hidden" id="cv25n5"></span><span class="hidden" id="cv25n6"></span>
    </div>
    <div class="block" style="display: inline-block"><h4>Question 6</h4>
        <span class="question-cv2" id="cv26"></span><span class="anscv2" id="cv26a"></span>
        <span class="hidden" id="cv26n1"></span><span class="hidden" id="cv26n2"></span>
        <span class="hidden" id="cv26n3"></span><span class="hidden" id="cv26n4"></span>
        <span class="hidden" id="cv26n5"></span><span class="hidden" id="cv26n6"></span>
    </div>

</article>

<!-- html button -->
<button onclick="showhideans()" id="showhide">Show answers</button>
<!-- button "New questions"  -->
<button onclick="reset()">New questions</button>

<div id="qr"></div>

<script>
    // if parameter contain &amp;, replace with &, refresh
    if (window.location.href.indexOf('&amp;') > -1) {
        window.location.href
            = window.location.href.replace(/&amp;/g, '&');
    }

    function getURLParams() {
        // get id of all spans with class question
        var questions = document.getElementsByClassName('question-rf');
        var rflength = questions.length;
        // reduce fraction
        // loop through all spans with class question
        for (var i = 0; i < questions.length; i++) {
            // get id of span
            var id = questions[i].id;
            // get value of id from URL
            var val = getURL(id);
            // if value is null, random 2-7 for seed, q1[0] = seed * random 2-7
            if (val[0] == null) {
                // getFraction
                val = getFraction();
            }
            // use mathML to show q1a over q1b = in span id q1
            document.getElementById(id).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[0] + '</mn><mn>' + val[1] + '</mn></mfrac></math>=';
            // set innerHTML of q1n1 and q1n2 to q1[0] and q1[1]
            document.getElementById(id + 'n1').innerHTML = val[0];
            document.getElementById(id + 'n2').innerHTML = val[1];
        }

        // improper fraction
        // get id of all spans with class question
        var questions = document.getElementsByClassName('question-if');
        // loop through all spans with class question
        for (var i = 0; i < questions.length ; i++) {
            // get id of span  'if1'
            var id = questions[i].id;
            // get value of id from URL
            var val = getURL(id);
            // if value is null, random 2-7 for seed, [1] = seed * random 2-4, [0] = 1 to 3, [2] = (([1] / seed) + random 2-4) * seed
            if (val[0] == null) {
                val = getFraction();
            }
            // use mathML to show [0] and [1] over [2] = in span id q1
            document.getElementById(id).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[1] + '</mn><mn>' + val[0] + '</mn></mfrac></math>=';

            // set innerHTML of q1n1 and q1n2 to q1[0] and q1[1]
            document.getElementById(id + 'n1').innerHTML = val[0];
            document.getElementById(id + 'n2').innerHTML = val[1];
        }

        // compare values
        // get id of all spans with class question
        var questions = document.getElementsByClassName('question-cv');
        // loop through all spans with class question
        for (var i = 0; i < questions.length; i++) {
            // get id of span  'cv1'
            var id = questions[i].id;
            // get value of id from URL
            var val = getURL(id);
            // if value is null, random 1-20 for n0, n2, n4, random 2-15 for n1, n3, n5
            if (val[0] == null) {
                val = getCV();
            }
            // use mathML to show n0/n1, n2/n3, n4/n5 in span id q1  a box between each value
            document.getElementById(id).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[0] + '</mn><mn>' + val[1] + '</mn></mfrac> <menclose notation="box">&emsp;</menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[2] + '</mn><mn>' + val[3] + '</mn></mfrac> <menclose notation="box">&emsp;</menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[4] + '</mn><mn>' + val[5] + '</mn></mfrac><menclose notation="box">&emsp;</menclose></math>';
            // set innerHTML of q1n1 and q1n2 to q1[0] and q1[1]
            document.getElementById(id + 'n1').innerHTML = val[0];
            document.getElementById(id + 'n2').innerHTML = val[1];
            document.getElementById(id + 'n3').innerHTML = val[2];
            document.getElementById(id + 'n4').innerHTML = val[3];
            document.getElementById(id + 'n5').innerHTML = val[4];
            document.getElementById(id + 'n6').innerHTML = val[5];
        }

        
        // compare values
        // get id of all spans with class question
        var questions = document.getElementsByClassName('question-cv2');
        // loop through all spans with class question
        for (var i = 0; i < questions.length; i++) {
            // get id of span  'cv1'
            var id = questions[i].id;
            // get value of id from URL
            var val = getURL(id);
            // if value is null, random 1-20 for n0, n2, n4, random 2-15 for n1, n3, n5
            if (val[0] == null) {
                val = getCV();
            }
            // use mathML to show n0/n1, n2/n3, n4/n5 in span id q1  a box between each value
            document.getElementById(id).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[0] + '</mn><mn>' + val[1] + '</mn></mfrac> &emsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[2] + '</mn><mn>' + val[3] + '</mn></mfrac> &emsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + val[4] + '</mn><mn>' + val[5] + '</mn></mfrac>&emsp;</math>';
            // set innerHTML of q1n1 and q1n2 to q1[0] and q1[1]
            document.getElementById(id + 'n1').innerHTML = val[0];
            document.getElementById(id + 'n2').innerHTML = val[1];
            document.getElementById(id + 'n3').innerHTML = val[2];
            document.getElementById(id + 'n4').innerHTML = val[3];
            document.getElementById(id + 'n5').innerHTML = val[4];
            document.getElementById(id + 'n6').innerHTML = val[5];
            // add line break
            document.getElementById(id).innerHTML += '<br><br>';
            // set span ans to ______ < ______ < ______
            document.getElementById(id + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>______</mn><mn>&nbsp;&lt;&nbsp;</mn><mn>______</mn><mn>&nbsp;&lt;&nbsp;</mn><mn>______</mn></math>';
            // change ans to black
            document.getElementById(id + 'a').style.color = 'black';
        }

    }

    function getFraction()
    {
        var seed = Math.floor(Math.random() * 3) + 2;
        var n1 = seed * (Math.floor(Math.random() * 3) + 2);
        var n2 = ((n1 / seed) + (Math.floor(Math.random() * 5) + 2)) * seed;
        return [n1, n2];
    }

    function getCV()
    {
        // var n0 to n5
        var n0 = 1, n1 = 1, n2 = 1, n3 = 1, n4 = 1, n5 = 1;

        // while values of n0/n1, n2/n3 or n4/n5 are equal
        while (n0 / n1 == n2 / n3 || n2 / n3 == n4 / n5 || n0 / n1 == n4 / n5) {
            // random 1-20 for n0, n2, n4
            n0 = Math.floor(Math.random() * 20) + 1;
            n2 = Math.floor(Math.random() * 20) + 1;
            n4 = Math.floor(Math.random() * 20) + 1;
            // random 2-15 for n1, n3, n5
            n1 = Math.floor(Math.random() * 14) + 2;
            n3 = Math.floor(Math.random() * 14) + 2;
            n5 = Math.floor(Math.random() * 14) + 2;
        }            
        
        return [n0, n1, n2, n3, n4, n5];
    }

    function getURL(question)
    {
        var value = new URLSearchParams(window.location.search).get(question);
        if (value != null) {
            value = value.split(',');
        }

        if (value == null) {
            value = [];
        }

        return value;
    }

    function hcf(a, b) {
        // find common factors of a and b
        var factors = [];
        for (var i = Math.min(a, b); i > 0; i--) {
            if (a % i == 0 && b % i == 0) {
                return i;
            }
        }
    }

    function calall() {
        // loop all spans with class question
        var questions = document.getElementsByClassName('question-rf');
        for (var i = 0; i < questions.length; i++) {
            // get id of span
            var id = questions[i].id;
            // call calans with id
            calansrf(id);
            calansif(id.replace('q', 'if'));
            calcv(id.replace('q', 'cv'));
            calcv2(id.replace('q', 'cv2'));
        }

        // change all anscv2 to red
        var anscv2 = document.getElementsByClassName('anscv2');
        for (var i = 0; i < anscv2.length; i++) {
            anscv2[i].style.color = 'red';
        }

    }

    function calansrf(name) {
        var q = [];
        q[0] = parseInt(document.getElementById(name + 'n1').innerHTML);
        q[1] = parseInt(document.getElementById(name + 'n2').innerHTML);
        
        // find hcf of q[0] and q[1]
        var hcfv = hcf(q[0], q[1]);
        // divide q[0] and q[1] by hcfv
        q[0] = q[0] / hcfv;
        q[1] = q[1] / hcfv;
        // use mathML to show q[0]/q[1] in span id q1a
        // document.getElementById('q1a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac></math>';
        document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac></math>';
    }

    function reduce(n1, n2) {
        var hcfv = hcf(n1, n2);
        return [n1 / hcfv, n2 / hcfv];
    }

    function calansif(name) {
        var q = [];
        q[0] = parseInt(document.getElementById(name + 'n1').innerHTML);
        q[1] = parseInt(document.getElementById(name + 'n2').innerHTML);

        var num = 0;
        while (q[1] >= q[0]) {
            q[1] = q[1] - q[0];
            num++;
        }

        // reduce
        if (q[1] != 0)
            q = reduce(q[1], q[0]);

        if (num == 0) {
            document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>' + q[1] + '</mn></math>';
        }
        else if (q[1] == 0) {
            document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>' + num + '</mn></math>';
        }
        else {
            document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>' + num + '</mn><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac></math>';
        }
    }

    function calcv(name)
    {
        var q = [];
        q[0] = parseInt(document.getElementById(name + 'n1').innerHTML);
        q[1] = parseInt(document.getElementById(name + 'n2').innerHTML);
        q[2] = parseInt(document.getElementById(name + 'n3').innerHTML);
        q[3] = parseInt(document.getElementById(name + 'n4').innerHTML);
        q[4] = parseInt(document.getElementById(name + 'n5').innerHTML);
        q[5] = parseInt(document.getElementById(name + 'n6').innerHTML);

        var a = q[0] / q[1];
        var b = q[2] / q[3];
        var c = q[4] / q[5];

        if (a < b && a < c) {
            if (b < c) {
                // show fraction and answer in a box
                document.getElementById(name).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;1&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;2&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><menclose notation="box" class="ans"><mn>&nbsp;3&nbsp;</mn></menclose></math>';
            }
            else {
                // show fraction and answer in a box
                document.getElementById(name).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;1&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;3&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><menclose notation="box" class="ans"><mn>&nbsp;2&nbsp;</mn></menclose></math>';
            }
        }
        else if (b < a && b < c) {
            if (a < c) {
                // show fraction and answer in a box
                document.getElementById(name).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;2&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;1&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><menclose notation="box" class="ans"><mn>&nbsp;3&nbsp;</mn></menclose></math>';
            }
            else {
                // show fraction and answer in a box
                document.getElementById(name).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;3&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;1&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><menclose notation="box" class="ans"><mn>&nbsp;2&nbsp;</mn></menclose></math>';
            }
        }
        else {
            if (a < b) {
                // show fraction and answer in a box
                document.getElementById(name).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;2&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;3&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><menclose notation="box" class="ans"><mn>&nbsp;1&nbsp;</mn></menclose></math>';
            }
            else {
                // show fraction and answer in a box
                document.getElementById(name).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;3&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac> <menclose notation="box" class="ans"><mn>&nbsp;2&nbsp;</mn></menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><menclose notation="box" class="ans"><mn>&nbsp;1&nbsp;</mn></menclose></math>';
            }
        }            

    }

    function calcv2(name)
    {
        var q = [];
        q[0] = parseInt(document.getElementById(name + 'n1').innerHTML);
        q[1] = parseInt(document.getElementById(name + 'n2').innerHTML);
        q[2] = parseInt(document.getElementById(name + 'n3').innerHTML);
        q[3] = parseInt(document.getElementById(name + 'n4').innerHTML);
        q[4] = parseInt(document.getElementById(name + 'n5').innerHTML);
        q[5] = parseInt(document.getElementById(name + 'n6').innerHTML);

        var a = q[0] / q[1];
        var b = q[2] / q[3];
        var c = q[4] / q[5];

        // arrange ans in ascending order a < b < c
        if (a < b && a < c) {
            if (b < c) {
                document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac></math>';
            }
            else {
                document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac></math>';
            }
        }
        else if (b < a && b < c) {
            if (a < c) {
                document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac></math>';
            }
            else {
                document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac></math>';
            }
        }
        else {
            if (a < b) {
                document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac></math>';
            }
            else {
                document.getElementById(name + 'a').innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + q[4] + '</mn><mn>' + q[5] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[2] + '</mn><mn>' + q[3] + '</mn></mfrac><mn>&nbsp;&lt;&nbsp;</mn><mfrac><mn>' + q[0] + '</mn><mn>' + q[1] + '</mn></mfrac></math>';
            }
        }

    }


    function genQR()
    {
        var qr = document.getElementById('qr');
        var questions = document.getElementsByClassName('question-rf');
        for (var i = 0; i < questions.length; i++) {
            var id = questions[i].id;
            var val = getURL(id);
            if (val[0] == null) {
                // get value from span id
                val[0] = document.getElementById(id + 'n1').innerHTML;
                val[1] = document.getElementById(id + 'n2').innerHTML;
            }
            qr.innerHTML += id + '=' + val[0] + ',' + val[1] + '&';
        }
        questions = document.getElementsByClassName('question-if');
        for (var i = 0; i < questions.length; i++) {
            var id = questions[i].id;
            var val = getURL(id);
            if (val[0] == null) {
                // get value from span id
                val[0] = document.getElementById(id + 'n1').innerHTML;
                val[1] = document.getElementById(id + 'n2').innerHTML;
            }
            qr.innerHTML += id + '=' + val[0] + ',' + val[1] + ',' + val[2] + '&';
        }

        questions = document.getElementsByClassName('question-cv');
        for (var i = 0; i < questions.length; i++) {
            var id = questions[i].id;
            var val = getURL(id);
            if (val[0] == null) {
                // get value from span id
                val[0] = document.getElementById(id + 'n1').innerHTML;
                val[1] = document.getElementById(id + 'n2').innerHTML;
                val[2] = document.getElementById(id + 'n3').innerHTML;
                val[3] = document.getElementById(id + 'n4').innerHTML;
                val[4] = document.getElementById(id + 'n5').innerHTML;
                val[5] = document.getElementById(id + 'n6').innerHTML;
            }
            qr.innerHTML += id + '=' + val[0] + ',' + val[1] + ',' + val[2] + ',' + val[3] + ',' + val[4] + ',' + val[5] + '&';
        }

        questions = document.getElementsByClassName('question-cv2');
        for (var i = 0; i < questions.length; i++) {
            var id = questions[i].id;
            var val = getURL(id);
            if (val[0] == null) {
                // get value from span id
                val[0] = document.getElementById(id + 'n1').innerHTML;
                val[1] = document.getElementById(id + 'n2').innerHTML;
                val[2] = document.getElementById(id + 'n3').innerHTML;
                val[3] = document.getElementById(id + 'n4').innerHTML;
                val[4] = document.getElementById(id + 'n5').innerHTML;
                val[5] = document.getElementById(id + 'n6').innerHTML;
            }
            qr.innerHTML += id + '=' + val[0] + ',' + val[1] + ',' + val[2] + ',' + val[3] + ',' + val[4] + ',' + val[5] + '&';
        }

        var url = window.location.href.split('?')[0] + '?';
        fullurl = url + qr.innerHTML;

        // QR Code
        qr.innerHTML = '<br><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=' + encodeURIComponent(fullurl) + '">';

        // text link
        qr.innerHTML += '<br><a href="' + fullurl + '">QR Code</a>';
    }

    function showhideans()
    {
        var button = document.getElementsByTagName('button')[0];
        if (document.getElementById("showhide").innerHTML == 'Show answers') {
            document.getElementById("showhide").innerHTML = 'Hide answers';            
            // clear all innerHTML values
            var ans = document.getElementsByClassName('ans');
            calall();
        } else {
            document.getElementById("showhide").innerHTML = 'Show answers';
            var ans = document.getElementsByClassName('ans');
            for (var i = 0; i < ans.length; i++) {
                ans[i].innerHTML = '';
            }

            var ans = document.getElementsByClassName('anscv2');
            for (var i = 0; i < ans.length; i++) {
                // change to ______ < ______ < ______
                ans[i].innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mn>______</mn>&nbsp;&lt;&nbsp;<mn>______</mn>&nbsp;&lt;&nbsp;<mn>______</mn></math>';
                // change to black
                ans[i].style.color = 'black';
            }

            // question-cv
            var questions = document.getElementsByClassName('question-cv');
            for (var i = 0; i < questions.length; i++) {
                var id = questions[i].id;
                document.getElementById(id).innerHTML = '<math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + document.getElementById(id + 'n1').innerHTML + '</mn><mn>' + document.getElementById(id + 'n2').innerHTML + '</mn></mfrac> <menclose notation="box">&emsp;</menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + document.getElementById(id + 'n3').innerHTML + '</mn><mn>' + document.getElementById(id + 'n4').innerHTML + '</mn></mfrac> <menclose notation="box">&emsp;</menclose>&nbsp; <math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mn>' + document.getElementById(id + 'n5').innerHTML + '</mn><mn>' + document.getElementById(id + 'n6').innerHTML + '</mn></mfrac><menclose notation="box">&emsp;</menclose></math>';
            }
        }
    }

    function reset() {
        // clear parameters and reload
        window.location.href = window.location.href.split('?')[0];
    }

    function dateAdd()
    {
        // get date from span id date
        var date = new Date(document.getElementById('date').innerHTML);
        // add 1 day
        date.setDate(date.getDate() + 1);
        // set innerHTML of span id date to new date
        document.getElementById('date').innerHTML = date.toISOString().split('T')[0];
    }

    function dateMinus()
    {
        // get date from span id date
        var date = new Date(document.getElementById('date').innerHTML);
        // minus 1 day
        date.setDate(date.getDate() - 1);
        // set innerHTML of span id date to new date
        document.getElementById('date').innerHTML = date.toISOString().split('T')[0];
    }

    // update date in yyyy-mm-dd format
    document.getElementById('date').innerHTML = new Date().toISOString().split('T')[0];
    getURLParams();
    genQR();
</script>

